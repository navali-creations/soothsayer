/* 40x20-ish left gutter beam */
.lootBeam {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;

  /* tweakables */
  --beam: #00e5ff; /* neon cyan */
  --speed: 1.5s;
  --blur: 8px;
}

.lootBeam__streak {
  position: absolute;
  top: 50%;
  width: 220px;
  height: 6px;
  transform: translateY(-50%);
  z-index: 4;

  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.12) 30%,
    rgba(255, 255, 255, 0.95) 50%,
    rgba(255, 255, 255, 0.12) 70%,
    transparent 100%
  );

  filter: blur(var(--blur));
  opacity: 0.85;
  will-change: transform, opacity;
  mask-composite: intersect;
}

/* animated white streak inside the cone */
.lootBeam__streak--rightHalf {
  right: -180px;
  animation: loot-streak-rtl var(--speed) linear infinite;
  mask-image: linear-gradient(
      to bottom,
      transparent 0%,
      black 35%,
      black 65%,
      transparent 100%
    ),
    linear-gradient(to left, transparent 0%, black 40%, black 100%);
}

.lootBeam__streak--leftHalf {
  left: -180px;
  animation: loot-streak-ltr var(--speed) linear infinite;
  mask-image: linear-gradient(
      to bottom,
      transparent 0%,
      black 35%,
      black 65%,
      transparent 100%
    ),
    linear-gradient(to right, transparent 0%, black 40%, black 100%);
}

/* neon cap at the edge */
.lootBeam__cap {
  position: absolute;
  top: 25%;
  width: 100%;
  height: 50%;
  z-index: 5;

  mask-composite: intersect;
}

.lootBeam__cap--rightHalf {
  right: 0;
  background: color-mix(in oklab, var(--beam) 65%, transparent);
  mask-image: linear-gradient(
      to bottom,
      transparent 0%,
      black 50%,
      black 50%,
      transparent 100%
    ),
    linear-gradient(to right, transparent 0%, black 100%);

  box-shadow: 0 0 6px color-mix(in oklab, var(--beam) 60%, white),
    0 0 16px color-mix(in oklab, var(--beam) 35%, transparent);
}

.lootBeam__cap--leftHalf {
  left: 0;
  background: color-mix(in oklab, var(--beam) 65%, transparent);
  mask-image: linear-gradient(
      to bottom,
      transparent 0%,
      black 50%,
      black 50%,
      transparent 100%
    ),
    linear-gradient(to left, transparent 0%, black 100%);

  box-shadow: 0 0 6px color-mix(in oklab, var(--beam) 60%, white),
    0 0 16px color-mix(in oklab, var(--beam) 35%, transparent);
}

/* right->left + fade out at end */
@keyframes loot-streak-rtl {
  0% {
    transform: translate(0, -50%);
    opacity: 0;
  }
  12% {
    opacity: 0.85;
  }
  70% {
    opacity: 0.85;
  }
  100% {
    transform: translate(-520px, -50%);
    opacity: 0;
  }
}

/* left->right + fade out at end */
@keyframes loot-streak-ltr {
  0% {
    transform: translate(0, -50%);
    opacity: 0;
  }
  12% {
    opacity: 0.85;
  }
  70% {
    opacity: 0.85;
  }
  100% {
    transform: translate(520px, -50%);
    opacity: 0;
  }
}
